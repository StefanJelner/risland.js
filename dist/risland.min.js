var RIsland;(()=>{var r={738:(r,o,a)=>{"use strict";const c=a(341),u=a(401),l=a(731);function cloneDeep(r,o){switch(u(r)){case"object":return function cloneObjectDeep(r,o){if("function"==typeof o)return o(r);if(o||l(r)){const a=new r.constructor;for(let c in r)a[c]=cloneDeep(r[c],o);return a}return r}(r,o);case"array":return function cloneArrayDeep(r,o){const a=new r.constructor(r.length);for(let c=0;c<r.length;c++)a[c]=cloneDeep(r[c],o);return a}(r,o);default:return c(r)}}r.exports=cloneDeep},731:(r,o,a)=>{"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var c=a(798);function isObjectObject(r){return!0===c(r)&&"[object Object]"===Object.prototype.toString.call(r)}r.exports=function isPlainObject(r){var o,a;return!1!==isObjectObject(r)&&("function"==typeof(o=r.constructor)&&(!1!==isObjectObject(a=o.prototype)&&!1!==a.hasOwnProperty("isPrototypeOf")))}},996:r=>{"use strict";var o=function isMergeableObject(r){return function isNonNullObject(r){return!!r&&"object"==typeof r}(r)&&!function isSpecial(r){var o=Object.prototype.toString.call(r);return"[object RegExp]"===o||"[object Date]"===o||function isReactElement(r){return r.$$typeof===a}(r)}(r)};var a="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function cloneUnlessOtherwiseSpecified(r,o){return!1!==o.clone&&o.isMergeableObject(r)?deepmerge(function emptyTarget(r){return Array.isArray(r)?[]:{}}(r),r,o):r}function defaultArrayMerge(r,o,a){return r.concat(o).map((function(r){return cloneUnlessOtherwiseSpecified(r,a)}))}function getKeys(r){return Object.keys(r).concat(function getEnumerableOwnPropertySymbols(r){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r).filter((function(o){return r.propertyIsEnumerable(o)})):[]}(r))}function propertyIsOnObject(r,o){try{return o in r}catch(r){return!1}}function mergeObject(r,o,a){var c={};return a.isMergeableObject(r)&&getKeys(r).forEach((function(o){c[o]=cloneUnlessOtherwiseSpecified(r[o],a)})),getKeys(o).forEach((function(u){(function propertyIsUnsafe(r,o){return propertyIsOnObject(r,o)&&!(Object.hasOwnProperty.call(r,o)&&Object.propertyIsEnumerable.call(r,o))})(r,u)||(propertyIsOnObject(r,u)&&a.isMergeableObject(o[u])?c[u]=function getMergeFunction(r,o){if(!o.customMerge)return deepmerge;var a=o.customMerge(r);return"function"==typeof a?a:deepmerge}(u,a)(r[u],o[u],a):c[u]=cloneUnlessOtherwiseSpecified(o[u],a))})),c}function deepmerge(r,a,c){(c=c||{}).arrayMerge=c.arrayMerge||defaultArrayMerge,c.isMergeableObject=c.isMergeableObject||o,c.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var u=Array.isArray(a);return u===Array.isArray(r)?u?c.arrayMerge(r,a,c):mergeObject(r,a,c):cloneUnlessOtherwiseSpecified(a,c)}deepmerge.all=function deepmergeAll(r,o){if(!Array.isArray(r))throw new Error("first argument should be an array");return r.reduce((function(r,a){return deepmerge(r,a,o)}),{})};var c=deepmerge;r.exports=c},63:r=>{"use strict";r.exports=function equal(r,o){if(r===o)return!0;if(r&&o&&"object"==typeof r&&"object"==typeof o){if(r.constructor!==o.constructor)return!1;var a,c,u;if(Array.isArray(r)){if((a=r.length)!=o.length)return!1;for(c=a;0!=c--;)if(!equal(r[c],o[c]))return!1;return!0}if(r.constructor===RegExp)return r.source===o.source&&r.flags===o.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===o.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===o.toString();if((a=(u=Object.keys(r)).length)!==Object.keys(o).length)return!1;for(c=a;0!=c--;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;for(c=a;0!=c--;){var l=u[c];if(!equal(r[l],o[l]))return!1}return!0}return r!=r&&o!=o}},57:(r,o)=>{"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function isObject(r){return"[object Object]"===Object.prototype.toString.call(r)}Object.defineProperty(o,"__esModule",{value:!0}),o.isPlainObject=function isPlainObject(r){var o,a;return!1!==isObject(r)&&(void 0===(o=r.constructor)||!1!==isObject(a=o.prototype)&&!1!==a.hasOwnProperty("isPrototypeOf"))}},798:r=>{"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */r.exports=function isObject(r){return null!=r&&"object"==typeof r&&!1===Array.isArray(r)}},401:r=>{var o=Object.prototype.toString;function ctorName(r){return"function"==typeof r.constructor?r.constructor.name:null}r.exports=function kindOf(r){if(void 0===r)return"undefined";if(null===r)return"null";var a=typeof r;if("boolean"===a)return"boolean";if("string"===a)return"string";if("number"===a)return"number";if("symbol"===a)return"symbol";if("function"===a)return function isGeneratorFn(r,o){return"GeneratorFunction"===ctorName(r)}(r)?"generatorfunction":"function";if(function isArray(r){return Array.isArray?Array.isArray(r):r instanceof Array}(r))return"array";if(function isBuffer(r){if(r.constructor&&"function"==typeof r.constructor.isBuffer)return r.constructor.isBuffer(r);return!1}(r))return"buffer";if(function isArguments(r){try{if("number"==typeof r.length&&"function"==typeof r.callee)return!0}catch(r){if(-1!==r.message.indexOf("callee"))return!0}return!1}(r))return"arguments";if(function isDate(r){return r instanceof Date||"function"==typeof r.toDateString&&"function"==typeof r.getDate&&"function"==typeof r.setDate}(r))return"date";if(function isError(r){return r instanceof Error||"string"==typeof r.message&&r.constructor&&"number"==typeof r.constructor.stackTraceLimit}(r))return"error";if(function isRegexp(r){return r instanceof RegExp||"string"==typeof r.flags&&"boolean"==typeof r.ignoreCase&&"boolean"==typeof r.multiline&&"boolean"==typeof r.global}(r))return"regexp";switch(ctorName(r)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function isGeneratorObj(r){return"function"==typeof r.throw&&"function"==typeof r.return&&"function"==typeof r.next}(r))return"generator";switch(a=o.call(r)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return a.slice(8,-1).toLowerCase().replace(/\s/g,"")}},492:(r,o,a)=>{"use strict";a.r(o),a.d(o,{default:()=>A});var c;var u="undefined"==typeof document?void 0:document,l=!!u&&"content"in u.createElement("template"),f=!!u&&u.createRange&&"createContextualFragment"in u.createRange();function toElement(r){return r=r.trim(),l?function createFragmentFromTemplate(r){var o=u.createElement("template");return o.innerHTML=r,o.content.childNodes[0]}(r):f?function createFragmentFromRange(r){return c||(c=u.createRange()).selectNode(u.body),c.createContextualFragment(r).childNodes[0]}(r):function createFragmentFromWrap(r){var o=u.createElement("body");return o.innerHTML=r,o.childNodes[0]}(r)}function compareNodeNames(r,o){var a,c,u=r.nodeName,l=o.nodeName;return u===l||(a=u.charCodeAt(0),c=l.charCodeAt(0),a<=90&&c>=97?u===l.toUpperCase():c<=90&&a>=97&&l===u.toUpperCase())}function syncBooleanAttrProp(r,o,a){r[a]!==o[a]&&(r[a]=o[a],r[a]?r.setAttribute(a,""):r.removeAttribute(a))}var b={OPTION:function(r,o){var a=r.parentNode;if(a){var c=a.nodeName.toUpperCase();"OPTGROUP"===c&&(c=(a=a.parentNode)&&a.nodeName.toUpperCase()),"SELECT"!==c||a.hasAttribute("multiple")||(r.hasAttribute("selected")&&!o.selected&&(r.setAttribute("selected","selected"),r.removeAttribute("selected")),a.selectedIndex=-1)}syncBooleanAttrProp(r,o,"selected")},INPUT:function(r,o){syncBooleanAttrProp(r,o,"checked"),syncBooleanAttrProp(r,o,"disabled"),r.value!==o.value&&(r.value=o.value),o.hasAttribute("value")||r.removeAttribute("value")},TEXTAREA:function(r,o){var a=o.value;r.value!==a&&(r.value=a);var c=r.firstChild;if(c){var u=c.nodeValue;if(u==a||!a&&u==r.placeholder)return;c.nodeValue=a}},SELECT:function(r,o){if(!o.hasAttribute("multiple")){for(var a,c,u=-1,l=0,f=r.firstChild;f;)if("OPTGROUP"===(c=f.nodeName&&f.nodeName.toUpperCase()))f=(a=f).firstChild;else{if("OPTION"===c){if(f.hasAttribute("selected")){u=l;break}l++}!(f=f.nextSibling)&&a&&(f=a.nextSibling,a=null)}r.selectedIndex=u}}};function noop(){}function defaultGetNodeKey(r){if(r)return r.getAttribute&&r.getAttribute("id")||r.id}var j=function morphdomFactory(r){return function morphdom(o,a,c){if(c||(c={}),"string"==typeof a)if("#document"===o.nodeName||"HTML"===o.nodeName||"BODY"===o.nodeName){var l=a;(a=u.createElement("html")).innerHTML=l}else a=toElement(a);var f=c.getNodeKey||defaultGetNodeKey,j=c.onBeforeNodeAdded||noop,A=c.onNodeAdded||noop,N=c.onBeforeElUpdated||noop,E=c.onElUpdated||noop,T=c.onBeforeNodeDiscarded||noop,C=c.onNodeDiscarded||noop,I=c.onBeforeElChildrenUpdated||noop,R=!0===c.childrenOnly,P=Object.create(null),F=[];function addKeyedRemoval(r){F.push(r)}function walkDiscardedChildNodes(r,o){if(1===r.nodeType)for(var a=r.firstChild;a;){var c=void 0;o&&(c=f(a))?addKeyedRemoval(c):(C(a),a.firstChild&&walkDiscardedChildNodes(a,o)),a=a.nextSibling}}function removeNode(r,o,a){!1!==T(r)&&(o&&o.removeChild(r),C(r),walkDiscardedChildNodes(r,a))}function handleNodeAdded(r){A(r);for(var o=r.firstChild;o;){var a=o.nextSibling,c=f(o);if(c){var u=P[c];u&&compareNodeNames(o,u)?(o.parentNode.replaceChild(u,o),morphEl(u,o)):handleNodeAdded(o)}else handleNodeAdded(o);o=a}}function morphEl(o,a,c){var l=f(a);if(l&&delete P[l],!c){if(!1===N(o,a))return;if(r(o,a),E(o),!1===I(o,a))return}"TEXTAREA"!==o.nodeName?function morphChildren(r,o){var a,c,l,A,N,E=o.firstChild,T=r.firstChild;e:for(;E;){for(A=E.nextSibling,a=f(E);T;){if(l=T.nextSibling,E.isSameNode&&E.isSameNode(T)){E=A,T=l;continue e}c=f(T);var C=T.nodeType,I=void 0;if(C===E.nodeType&&(1===C?(a?a!==c&&((N=P[a])?l===N?I=!1:(r.insertBefore(N,T),c?addKeyedRemoval(c):removeNode(T,r,!0),T=N):I=!1):c&&(I=!1),(I=!1!==I&&compareNodeNames(T,E))&&morphEl(T,E)):3!==C&&8!=C||(I=!0,T.nodeValue!==E.nodeValue&&(T.nodeValue=E.nodeValue))),I){E=A,T=l;continue e}c?addKeyedRemoval(c):removeNode(T,r,!0),T=l}if(a&&(N=P[a])&&compareNodeNames(N,E))r.appendChild(N),morphEl(N,E);else{var R=j(E);!1!==R&&(R&&(E=R),E.actualize&&(E=E.actualize(r.ownerDocument||u)),r.appendChild(E),handleNodeAdded(E))}E=A,T=l}!function cleanupFromEl(r,o,a){for(;o;){var c=o.nextSibling;(a=f(o))?addKeyedRemoval(a):removeNode(o,r,!0),o=c}}(r,T,c);var F=b[r.nodeName];F&&F(r,o)}(o,a):b.TEXTAREA(o,a)}!function indexTree(r){if(1===r.nodeType||11===r.nodeType)for(var o=r.firstChild;o;){var a=f(o);a&&(P[a]=o),indexTree(o),o=o.nextSibling}}(o);var U=o,M=U.nodeType,k=a.nodeType;if(!R)if(1===M)1===k?compareNodeNames(o,a)||(C(o),U=function moveChildren(r,o){for(var a=r.firstChild;a;){var c=a.nextSibling;o.appendChild(a),a=c}return o}(o,function createElementNS(r,o){return o&&"http://www.w3.org/1999/xhtml"!==o?u.createElementNS(o,r):u.createElement(r)}(a.nodeName,a.namespaceURI))):U=a;else if(3===M||8===M){if(k===M)return U.nodeValue!==a.nodeValue&&(U.nodeValue=a.nodeValue),U;U=a}if(U===a)C(o);else{if(a.isSameNode&&a.isSameNode(U))return;if(morphEl(U,a,R),F)for(var D=0,B=F.length;D<B;D++){var q=P[F[D]];q&&removeNode(q,q.parentNode,!1)}}return!R&&U!==o&&o.parentNode&&(U.actualize&&(U=U.actualize(o.ownerDocument||u)),o.parentNode.replaceChild(U,o)),U}}((function morphAttrs(r,o){var a,c,u,l,f=o.attributes;if(11!==o.nodeType&&11!==r.nodeType){for(var b=f.length-1;b>=0;b--)c=(a=f[b]).name,u=a.namespaceURI,l=a.value,u?(c=a.localName||c,r.getAttributeNS(u,c)!==l&&("xmlns"===a.prefix&&(c=a.name),r.setAttributeNS(u,c,l))):r.getAttribute(c)!==l&&r.setAttribute(c,l);for(var j=r.attributes,A=j.length-1;A>=0;A--)c=(a=j[A]).name,(u=a.namespaceURI)?(c=a.localName||c,o.hasAttributeNS(u,c)||r.removeAttributeNS(u,c)):o.hasAttribute(c)||r.removeAttribute(c)}}));const A=j},737:r=>{"use strict";r.exports=function rafThrottle(r){var o,a=null,c=function later(c){return function(){a=null,r.apply(c,o)}},u=function throttled(){for(var r=arguments.length,u=new Array(r),l=0;l<r;l++)u[l]=arguments[l];o=u,null===a&&(a=requestAnimationFrame(c(this)))};return u.cancel=function(){cancelAnimationFrame(a),a=null},u}},341:(r,o,a)=>{"use strict";
/*!
 * shallow-clone <https://github.com/jonschlinkert/shallow-clone>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const c=Symbol.prototype.valueOf,u=a(401);r.exports=function clone(r,o){switch(u(r)){case"array":return r.slice();case"object":return Object.assign({},r);case"date":return new r.constructor(Number(r));case"map":return new Map(r);case"set":return new Set(r);case"buffer":return function cloneBuffer(r){const o=r.length,a=Buffer.allocUnsafe?Buffer.allocUnsafe(o):Buffer.from(o);return r.copy(a),a}(r);case"symbol":return function cloneSymbol(r){return c?Object(c.call(r)):{}}(r);case"arraybuffer":return function cloneArrayBuffer(r){const o=new r.constructor(r.byteLength);return new Uint8Array(o).set(new Uint8Array(r)),o}(r);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function cloneTypedArray(r,o){return new r.constructor(r.buffer,r.byteOffset,r.length)}(r);case"regexp":return function cloneRegExp(r){const o=void 0!==r.flags?r.flags:/\w+$/.exec(r)||void 0,a=new r.constructor(r.source,o);return a.lastIndex=r.lastIndex,a}(r);case"error":return Object.create(r);default:return r}}},723:function(r,o){!function(r){"use strict";function t(r){var o,a,c=new Error(r);return o=c,a=t.prototype,Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a,c}function n(r,o,a){var c=o.slice(0,a).split(/\n/),u=c.length,l=c[u-1].length+1;throw t(r+=" at line "+u+" col "+l+":\n\n  "+o.split(/\n/)[u-1]+"\n  "+Array(l).join(" ")+"^")}t.prototype=Object.create(Error.prototype,{name:{value:"Squirrelly Error",enumerable:!1}});var o=new Function("return this")().Promise,a=!1;try{a=new Function("return (async function(){}).constructor")()}catch(r){if(!(r instanceof SyntaxError))throw r}function i(r,o){return Object.prototype.hasOwnProperty.call(r,o)}function s(r,o,a){for(var c in o)i(o,c)&&(null==o[c]||"object"!=typeof o[c]||"storage"!==c&&"prefixes"!==c||a?r[c]=o[c]:r[c]=s({},o[c]));return r}var c=/^async +/,u=/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})*}|(?!\${)[^\\`])*`/g,l=/'(?:\\[\s\w"'\\`]|[^\n\r'\\])*?'/g,f=/"(?:\\[\s\w"'\\`]|[^\n\r"\\])*?"/g,b=/[.*+\-?^${}()|[\]\\]/g;function p(r){return b.test(r)?r.replace(b,"\\$&"):r}function h(r,o){o.rmWhitespace&&(r=r.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),u.lastIndex=0,l.lastIndex=0,f.lastIndex=0;var a=o.prefixes,b=[a.h,a.b,a.i,a.r,a.c,a.e].reduce((function(r,o){return r&&o?r+"|"+p(o):o?p(o):r}),""),j=new RegExp("([|()]|=>)|('|\"|`|\\/\\*)|\\s*((\\/)?(-|_)?"+p(o.tags[1])+")","g"),A=new RegExp("([^]*?)"+p(o.tags[0])+"(-|_)?\\s*("+b+")?\\s*","g"),N=0,E=!1;function g(a,b){var T,C={f:[]},I=0,R="c";function m(a){var u=r.slice(N,a),l=u.trim();if("f"===R)"safe"===l?C.raw=!0:o.async&&c.test(l)?(l=l.replace(c,""),C.f.push([l,"",!0])):C.f.push([l,""]);else if("fp"===R)C.f[C.f.length-1][1]+=l;else if("err"===R){if(l){var f=u.search(/\S/);n("invalid syntax",r,N+f)}}else C[R]=l;N=a+1}for("h"===b||"b"===b||"c"===b?R="n":"r"===b&&(C.raw=!0,b="i"),j.lastIndex=N;null!==(T=j.exec(r));){var P=T[1],F=T[2],U=T[3],M=T[4],k=T[5],D=T.index;if(P)"("===P?(0===I&&("n"===R?(m(D),R="p"):"f"===R&&(m(D),R="fp")),I++):")"===P?0==--I&&"c"!==R&&(m(D),R="err"):0===I&&"|"===P?(m(D),R="f"):"=>"===P&&(m(D),N+=1,R="res");else if(F)if("/*"===F){var B=r.indexOf("*/",j.lastIndex);-1===B&&n("unclosed comment",r,T.index),j.lastIndex=B+2}else"'"===F?(l.lastIndex=T.index,l.exec(r)?j.lastIndex=l.lastIndex:n("unclosed string",r,T.index)):'"'===F?(f.lastIndex=T.index,f.exec(r)?j.lastIndex=f.lastIndex:n("unclosed string",r,T.index)):"`"===F&&(u.lastIndex=T.index,u.exec(r)?j.lastIndex=u.lastIndex:n("unclosed string",r,T.index));else if(U)return m(D),N=D+T[0].length,A.lastIndex=N,E=k,M&&"h"===b&&(b="s"),C.t=b,C}return n("unclosed tag",r,a),C}var T=function i(u,l){u.b=[],u.d=[];var f,b=!1,j=[];function v(r,a){r&&(r=function(r,o,a,c){var u,l;return"string"==typeof o.autoTrim?u=l=o.autoTrim:Array.isArray(o.autoTrim)&&(u=o.autoTrim[1],l=o.autoTrim[0]),(a||!1===a)&&(u=a),(c||!1===c)&&(l=c),"slurp"===u&&"slurp"===l?r.trim():("_"===u||"slurp"===u?r=String.prototype.trimLeft?r.trimLeft():r.replace(/^[\s\uFEFF\xA0]+/,""):"-"!==u&&"nl"!==u||(r=r.replace(/^(?:\n|\r|\r\n)/,"")),"_"===l||"slurp"===l?r=String.prototype.trimRight?r.trimRight():r.replace(/[\s\uFEFF\xA0]+$/,""):"-"!==l&&"nl"!==l||(r=r.replace(/(?:\n|\r|\r\n)$/,"")),r)}(r,o,E,a))&&(r=r.replace(/\\|'/g,"\\$&").replace(/\r\n|\n|\r/g,"\\n"),j.push(r))}for(;null!==(f=A.exec(r));){var T,C=f[1],I=f[2],R=f[3]||"";for(var P in a)if(a[P]===R){T=P;break}v(C,I),N=f.index+f[0].length,T||n("unrecognized tag type: "+R,r,N);var F=g(f.index,T),U=F.t;if("h"===U){var M=F.n||"";o.async&&c.test(M)&&(F.a=!0,F.n=M.replace(c,"")),F=i(F),j.push(F)}else if("c"===U){if(u.n===F.n)return b?(b.d=j,u.b.push(b)):u.d=j,u;n("Helper start and end don't match",r,f.index+f[0].length)}else if("b"===U){b?(b.d=j,u.b.push(b)):u.d=j;var k=F.n||"";o.async&&c.test(k)&&(F.a=!0,F.n=k.replace(c,"")),b=F,j=[]}else if("s"===U){var D=F.n||"";o.async&&c.test(D)&&(F.a=!0,F.n=D.replace(c,"")),j.push(F)}else j.push(F)}if(!l)throw t('unclosed helper "'+u.n+'"');return v(r.slice(N,r.length),!1),u.d=j,u}({f:[]},!0);if(o.plugins)for(var C=0;C<o.plugins.length;C++){var I=o.plugins[C];I.processAST&&(T.d=I.processAST(T.d,o))}return T.d}function d(r,o){var a=h(r,o),c="var tR='';"+(o.useWith?"with("+o.varName+"||{}){":"")+x(a,o)+"if(cb){cb(null,tR)} return tR"+(o.useWith?"}":"");if(o.plugins)for(var u=0;u<o.plugins.length;u++){var l=o.plugins[u];l.processFnString&&(c=l.processFnString(c,o))}return c}function g(r,o){for(var a=0;a<o.length;a++){var c=o[a][0],u=o[a][1];r=(o[a][2]?"await ":"")+"c.l('F','"+c+"')("+r,u&&(r+=","+u),r+=")"}return r}function v(r,o,a,c,u,l){var f="{exec:"+(u?"async ":"")+y(a,o,r)+",params:["+c+"]";return l&&(f+=",name:'"+l+"'"),u&&(f+=",async:true"),f+"}"}function m(r,o){for(var a="[",c=0;c<r.length;c++){var u=r[c];a+=v(o,u.res||"",u.d,u.p||"",u.a,u.n),c<r.length&&(a+=",")}return a+"]"}function y(r,o,a){return"function("+o+"){var tR='';"+x(r,a)+"return tR}"}function x(r,o){for(var a=0,c=r.length,u="";a<c;a++){var l=r[a];if("string"==typeof l)u+="tR+='"+l+"';";else{var f=l.t,b=l.c||"",j=l.f,A=l.n||"",N=l.p||"",E=l.res||"",T=l.b,C=!!l.a;if("i"===f){o.defaultFilter&&(b="c.l('F','"+o.defaultFilter+"')("+b+")");var I=g(b,j);!l.raw&&o.autoEscape&&(I="c.l('F','e')("+I+")"),u+="tR+="+I+";"}else if("h"===f)if(o.storage.nativeHelpers.get(A))u+=o.storage.nativeHelpers.get(A)(l,o);else{var R=(C?"await ":"")+"c.l('H','"+A+"')("+v(o,E,l.d,N,C);R+=T?","+m(T,o):",[]",u+="tR+="+g(R+=",c)",j)+";"}else"s"===f?u+="tR+="+g((C?"await ":"")+"c.l('H','"+A+"')({params:["+N+"]},[],c)",j)+";":"e"===f&&(u+=b+"\n")}}return u}var j=function(){function e(r){this.cache=r}return e.prototype.define=function(r,o){this.cache[r]=o},e.prototype.get=function(r){return this.cache[r]},e.prototype.remove=function(r){delete this.cache[r]},e.prototype.reset=function(){this.cache={}},e.prototype.load=function(r){s(this.cache,r,!0)},e}();function w(r,o,a,c){if(o&&o.length>0)throw t((c?"Native":"")+"Helper '"+r+"' doesn't accept blocks");if(a&&a.length>0)throw t((c?"Native":"")+"Helper '"+r+"' doesn't accept filters")}var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function S(r){return A[r]}var N=new j({}),E=new j({each:function(r,o){var a="",c=r.params[0];if(w("each",o,!1),r.async)return new Promise((function(o){!function e(r,o,a,c,u){a(r[o],o).then((function(l){c+=l,o===r.length-1?u(c):e(r,o+1,a,c,u)}))}(c,0,r.exec,a,o)}));for(var u=0;u<c.length;u++)a+=r.exec(c[u],u);return a},foreach:function(r,o){var a=r.params[0];if(w("foreach",o,!1),r.async)return new Promise((function(o){!function e(r,o,a,c,u,l){c(o[a],r[o[a]]).then((function(f){u+=f,a===o.length-1?l(u):e(r,o,a+1,c,u,l)}))}(a,Object.keys(a),0,r.exec,"",o)}));var c="";for(var u in a)i(a,u)&&(c+=r.exec(u,a[u]));return c},include:function(r,o,a){w("include",o,!1);var c=a.storage.templates.get(r.params[0]);if(!c)throw t('Could not fetch template "'+r.params[0]+'"');return c(r.params[1],a)},extends:function(r,o,a){var c=r.params[1]||{};c.content=r.exec();for(var u=0;u<o.length;u++){var l=o[u];c[l.name]=l.exec()}var f=a.storage.templates.get(r.params[0]);if(!f)throw t('Could not fetch template "'+r.params[0]+'"');return f(c,a)},useScope:function(r,o){return w("useScope",o,!1),r.exec(r.params[0])}}),T=new j({if:function(r,o){w("if",!1,r.f,!0);var a="if("+r.p+"){"+x(r.d,o)+"}";if(r.b)for(var c=0;c<r.b.length;c++){var u=r.b[c];"else"===u.n?a+="else{"+x(u.d,o)+"}":"elif"===u.n&&(a+="else if("+u.p+"){"+x(u.d,o)+"}")}return a},try:function(r,o){if(w("try",!1,r.f,!0),!r.b||1!==r.b.length||"catch"!==r.b[0].n)throw t("native helper 'try' only accepts 1 block, 'catch'");var a="try{"+x(r.d,o)+"}",c=r.b[0];return a+"catch"+(c.res?"("+c.res+")":"")+"{"+x(c.d,o)+"}"},block:function(r,o){return w("block",r.b,r.f,!0),"if(!"+o.varName+"["+r.p+"]){tR+=("+y(r.d,"",o)+")()}else{tR+="+o.varName+"["+r.p+"]}"}}),C=new j({e:function(r){var o=String(r);return/[&<>"']/.test(o)?o.replace(/[&<>"']/g,S):o}}),I={varName:"it",autoTrim:[!1,"nl"],autoEscape:!0,defaultFilter:!1,tags:["{{","}}"],l:function(r,o){if("H"===r){var a=this.storage.helpers.get(o);if(a)return a;throw t("Can't find helper '"+o+"'")}if("F"===r){var c=this.storage.filters.get(o);if(c)return c;throw t("Can't find filter '"+o+"'")}},async:!1,storage:{helpers:E,nativeHelpers:T,filters:C,templates:N},prefixes:{h:"@",b:"#",i:"",r:"*",c:"/",e:"!"},cache:!1,plugins:[],useWith:!1};function H(r,o){var a={};return s(a,I),o&&s(a,o),r&&s(a,r),a.l.bind(a),a}function O(r,o){var c=H(o||{}),u=Function;if(c.async){if(!a)throw t("This environment doesn't support async/await");u=a}try{return new u(c.varName,"c","cb",d(r,c))}catch(o){throw o instanceof SyntaxError?t("Bad template syntax\n\n"+o.message+"\n"+Array(o.message.length+1).join("=")+"\n"+d(r,c)):o}}function _(r,o){var a;return o.cache&&o.name&&o.storage.templates.get(o.name)?o.storage.templates.get(o.name):(a="function"==typeof r?r:O(r,o),o.cache&&o.name&&o.storage.templates.define(o.name,a),a)}I.l.bind(I),r.compile=O,r.compileScope=x,r.compileScopeIntoFunction=y,r.compileToString=d,r.defaultConfig=I,r.filters=C,r.getConfig=H,r.helpers=E,r.nativeHelpers=T,r.parse=h,r.render=function(r,a,c,u){var l=H(c||{});if(!l.async)return _(r,l)(a,l);if(!u){if("function"==typeof o)return new o((function(o,c){try{o(_(r,l)(a,l))}catch(r){c(r)}}));throw t("Please provide a callback function, this env doesn't support Promises")}try{_(r,l)(a,l,u)}catch(r){return u(r)}},r.templates=N,Object.defineProperty(r,"__esModule",{value:!0})}(o)},202:function(r,o,a){"use strict";var c=this&&this.__assign||function(){return c=Object.assign||function(r){for(var o,a=1,c=arguments.length;a<c;a++)for(var u in o=arguments[a])Object.prototype.hasOwnProperty.call(o,u)&&(r[u]=o[u]);return r},c.apply(this,arguments)},u=this&&this.__createBinding||(Object.create?function(r,o,a,c){void 0===c&&(c=a),Object.defineProperty(r,c,{enumerable:!0,get:function(){return o[a]}})}:function(r,o,a,c){void 0===c&&(c=a),r[c]=o[a]}),l=this&&this.__setModuleDefault||(Object.create?function(r,o){Object.defineProperty(r,"default",{enumerable:!0,value:o})}:function(r,o){r.default=o}),f=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var o={};if(null!=r)for(var a in r)"default"!==a&&Object.prototype.hasOwnProperty.call(r,a)&&u(o,r,a);return l(o,r),o},b=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(o,"__esModule",{value:!0});var j=b(a(738)),A=b(a(996)),N=b(a(63)),E=a(57),T=b(a(492)),C=b(a(737)),I=f(a(723)),R=function(){function RIsland(r){var o=this;this._initialConfig={deepmerge:{clone:!1,isMergeableObject:E.isPlainObject},delegations:{},$element:document.body,initialState:{},load:function(){},morphdom:{onBeforeElUpdated:function(r,o){return!r.isEqualNode(o)}},shouldUpdate:function(r,o){return!(0,N.default)(r,o)},squirrelly:c(c({},I.defaultConfig),{varName:"state"}),template:"",unload:function(){},update:function(){}},this._delegationFuncs={},this._loaded=!1,this._throttledRender=(0,C.default)(this._render),this._config=(0,A.default)(this._initialConfig,(0,j.default)(r),this._initialConfig.deepmerge),this._compiledTemplate=I.compile(this._getTemplate(this._config.template),this._config.squirrelly),this._setState(this._config.initialState),Object.keys(this._config.delegations).forEach((function(r){o._delegationFuncs[r]=function(a){Object.keys(o._config.delegations[r]).forEach((function(c){a.target instanceof HTMLElement&&null!==a.target.closest(c)&&o._config.delegations[r][c](a,o._setState.bind(o))}))},o._config.$element.addEventListener(r,o._delegationFuncs[r])}))}return RIsland.prototype.unload=function(){var r=this;Object.keys(this._config.delegations).forEach((function(o){r._config.$element.removeEventListener(o,r._delegationFuncs[o])})),this._config.$element.innerHTML="",this._config.unload()},RIsland.prototype._setState=function(r){var o=this,a="function"==typeof r?r((0,j.default)(this._state)):r;if(null!==a)if(a instanceof Promise)a.then((function(r){return o._setState(r)}));else{var c="customMerge"in this._config.deepmerge?(0,A.default)((0,j.default)(this._state),a,this._config.deepmerge):(0,A.default)(this._state,a,this._config.deepmerge),u=this._config.shouldUpdate===this._initialConfig.shouldUpdate?this._config.shouldUpdate(this._state,c):this._config.shouldUpdate((0,j.default)(this._state),"customMerge"in this._config.deepmerge?c:(0,j.default)(c));this._state=c,!0===u&&this._throttledRender()}},RIsland.prototype._render=function(){var r=this;null===this._config.$element.firstChild&&this._config.$element.appendChild(document.createElement("div")),(0,T.default)(this._config.$element.firstChild,this._compiledTemplate(this._state,this._config.squirrelly),c(c({},this._config.morphdom),{onElUpdated:function(o){!1===r._loaded?(r._loaded=!0,r._config.load(r._setState.bind(r))):r._config.update(r._setState.bind(r)),"onElUpdated"in r._config.morphdom&&r._config.morphdom.onElUpdated(o)}}))},RIsland.prototype._getTemplate=function(r){if("string"==typeof r)return r;if("object"==typeof r&&"content"in r&&r.content instanceof DocumentFragment){var o=document.createElement("textarea");return o.innerHTML=Array.from(r.content.childNodes).map((function(r){return r.outerHTML})).join(""),o.value}return'<p style="color:red;">Error: template must be a string or a template tag element.</p>'},RIsland}();o.default=R}},o={};function __webpack_require__(a){var c=o[a];if(void 0!==c)return c.exports;var u=o[a]={exports:{}};return r[a].call(u.exports,u,u.exports,__webpack_require__),u.exports}__webpack_require__.d=(r,o)=>{for(var a in o)__webpack_require__.o(o,a)&&!__webpack_require__.o(r,a)&&Object.defineProperty(r,a,{enumerable:!0,get:o[a]})},__webpack_require__.o=(r,o)=>Object.prototype.hasOwnProperty.call(r,o),__webpack_require__.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var a=__webpack_require__(202);RIsland=a.default})();